(this.webpackJsonpcurve_restaurant=this.webpackJsonpcurve_restaurant||[]).push([[0],{22:function(e,t,a){e.exports={nav:"NavBar_nav__1j9b8",nav__logo:"NavBar_nav__logo__1eY5S",nav__links:"NavBar_nav__links__KflY8"}},23:function(e,t,a){e.exports={wrapper:"Dnd_wrapper__2a5zH",item:"Dnd_item__DSx04",droppableStyle:"Dnd_droppableStyle__kPFVE"}},39:function(e,t,a){e.exports={restaurant__List:"Restaurant_restaurant__List__1KJm8"}},42:function(e,t,a){e.exports=a(71)},47:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),s=a.n(o),c=(a(47),a(6)),u=a(7),l=a(9),i=a(8),m=a(10),d=a(22),p=a.n(d),h=a(14),f=function(){return r.a.createElement("nav",{className:p.a.nav},r.a.createElement("div",{className:p.a.nav__logo},"Logo"),r.a.createElement("ul",{className:p.a.nav__links},r.a.createElement("li",null,r.a.createElement(h.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(h.b,{to:"/details/:restaurant_id"},"Details")),r.a.createElement("li",null,r.a.createElement(h.b,{style:{pointerEvents:"none"},to:"/dnd"},"About"))))},v=function(e){function t(e){return Object(c.a)(this,t),Object(l.a)(this,Object(i.a)(t).call(this,e))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f,null),this.props.children)}}]),t}(n.Component),_=a(13),b=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).dragHandler=function(e){e.dataTransfer.setData("transfer",e.target.id)},a.noAllowDropHandler=function(e){e.stopPropagation()},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:this.props.id,draggable:!0,onDragStart:this.dragHandler,onDragOver:this.noAllowDropHandler},this.props.children)}}]),t}(n.Component),E=function(e){return r.a.createElement("div",{className:e.className,id:e.id,onDrop:function(e){e.preventDefault();var t=e.dataTransfer.getData("transfer");console.log(document.getElementById(t)),e.target.appendChild(document.getElementById(t))},onDragOver:function(e){e.preventDefault()},style:e.style},r.a.createElement("h1",null,e.id),e.children)},g=a(23),y=a.n(g),O=function(e){var t=e.menuNames,a=e.restaurant,n=e.colors;return r.a.createElement("div",{className:y.a.wrapper},t&&t.map((function(e,t){var o={backgroundColor:n[t]};return r.a.createElement(E,{className:y.a.droppableStyle,key:e,id:e,style:o},a.menu_item&&a.menu_item.map((function(t){if(t.menu_name===e)return r.a.createElement(b,{id:e+Math.random(9900)},r.a.createElement("div",{className:y.a.item,style:{margin:"8px"}},t.course_name,"--$",(Math.round(100*t.price)/100).toFixed(2),"--"))})))})))},j=a(39),N=a.n(j),k=function(e){return r.a.createElement("div",{className:"col align-center"},r.a.createElement("h1",null,"Restaurants"),r.a.createElement("ul",{className:N.a.restaurant__List},e.restaurantsArr&&e.restaurantsArr.map((function(t){return t.menu_item&&0!==t.menu_item.length?r.a.createElement("li",{value:t.restaurant_id,key:t.restaurant_id,onClick:e.clickHandler},t.restaurant_name):void 0}))))},D=a(12),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).onClickHandler=function(e){a.props.history.push({pathname:"/details/".concat(e.target.value),state:{restaurant_id:e.target.value}})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log("ComponentDidMount Main Page")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,{clickHandler:this.onClickHandler,restaurantsArr:this.props.restaurantsArr}))}}]),t}(n.Component),w=Object(D.b)((function(e){return{restaurantsArr:e.restaurants.restaurantsArr}}))(A),C=function(){return r.a.createElement("div",{className:"loaderContainer"},r.a.createElement("div",{className:"loader"}))},B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={restaurant:{restaurant_name:"Please choose a restaurant"}},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props.restaurant),console.log(this.props.menuNames)}},{key:"render",value:function(){return this.props.restaurant?r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,this.props.restaurant&&this.props.restaurant.restaurant_name||"Please Choose a Restaurant"),r.a.createElement(O,{colors:this.props.colors,menuNames:this.props.menuNames,restaurant:this.props.restaurant})):r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,this.props.restaurant&&this.props.restaurant.restaurant_name||"Please Choose a Restaurant"),r.a.createElement(C,null))}}]),t}(n.Component),F=Object(D.b)((function(e,t){var a=t.match.params.restaurant_id,n=e.restaurants.restaurantsArr.filter((function(e){return e.restaurant_id===parseInt(a)}))[0],r=[];return n&&n.menu_item.forEach((function(e){r.includes(e.menu_name)||r.push(e.menu_name)})),console.log(e),{restaurant:n,menuNames:r,colors:e.restaurants.colors}}))(B),x=a(21),H=a(18),L=a.n(H),P=function(e){return"get"===e.method||"post"===e.method||"DELETE"===e.method||"PUT"===e.method?L.a.request({url:e.url,method:e.method,data:e.data,headers:e.headers,params:e.params}):void 0},M=function(){return function(e){var t={url:"https://3.222.204.208/restaurants_list",method:"post",data:{app_key:"".concat("ca0200ed-3d8f-417e-b4ec-da4f7e5546f5")},headers:"",params:""};P(t).then((function(t){var a=t.data.restaurants.map((function(e){var t={url:"https://3.222.204.208/restaurant_menu",method:"post",data:{app_key:"".concat("ca0200ed-3d8f-417e-b4ec-da4f7e5546f5"),restaurant_id:"".concat(e.restaurant_id)},headers:"",params:""};return P(t).then((function(t){return Object(x.a)({},e,{},function(e){try{return JSON.parse(e.replace(/\bNaN\b/g,'"***NaN***"'),(function(e,t){return"***NaN***"===t?NaN:t}))}catch(t){return e}}(t.data))})).catch((function(e){console.log(e)}))}));Promise.all(a).then((function(t){e({type:"get restaurant api data",payload:t})}))})).catch((function(e){console.log(e)}))}},S=(a(70),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.initDataFromApi()}},{key:"render",value:function(){var e=r.a.createElement(_.c,null,this.props.isLoaded?r.a.createElement(_.a,{exact:!0,path:"/",component:w}):r.a.createElement(_.a,{exact:!0,path:"/",component:function(){return r.a.createElement(C,null)}}),r.a.createElement(_.a,{path:"/details/:restaurant_id",component:F}),r.a.createElement(_.a,{path:"/dnd",component:O}));return r.a.createElement(v,null,e)}}]),t}(n.Component)),I=Object(D.b)((function(e){return{isLoaded:e.restaurants.isLoaded}}),(function(e){return{initDataFromApi:function(){e(M())}}}))(S),J=a(41),R=function(e,t){return Object(x.a)({},e,{},t)},T={restaurantsArr:[],colors:["#0288D1","#B3E5FC","#FFFFFF","#03A9F4","#8BC34A","#212121","#757575","#BDBDBD"],isLoaded:!1},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"get restaurant api data":return R(e,{restaurantsArr:t.payload,isLoaded:!0});default:return e}},W=a(15);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=Object(W.c)({restaurants:K}),$=W.d,q=Object(W.e)(Y,$(Object(W.a)(J.a))),z=r.a.createElement(D.a,{store:q},r.a.createElement(h.a,{basename:"/"},r.a.createElement(I,null)));s.a.render(z,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.f392f781.chunk.js.map